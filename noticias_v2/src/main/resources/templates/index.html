<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" xmlns="http://www.w3.org/1999/html" data-bs-theme="dark">
<head>
    <script src="/docs/5.3/assets/js/color-modes.js"></script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Noticias</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/estilo.css">
</head>


<body>


<!--&lt;!&ndash;<p>Hola <span th:text="${nombre}"></p>&ndash;&gt;-->
<!--<ul class="nav nav-pills nav-fill">-->
<!--    <li class="nav-item">-->
<!--        <a class="nav-link active" aria-current="page" href="/entrada/index">-->
<!--            <img src="/img/gatito.png" alt="" width="30" height="24" class="d-inline-block align-text-top">-->
<!--            Noticias</a>-->
<!--    </li>-->
<!--    <li class="nav-item">-->
<!--        <a class="nav-link" href="/logout">Cerrar Sesión</a>-->
<!--    </li>-->
<!--</ul>-->

<!--<p>Hola <span th:text="${nombre}"></p>-->
<ul th:replace="/fragments/cabecera :: ul"></ul>

<!--<nav th:replace="/fragments/cabecera :: nav"> </nav>-->
<!--<div class="tituloNoticias">-->
<!--<h1><span class="badge badge-success">NOTICIAS DEL DÍA</span></h1>-->
<!--&lt;!&ndash;    <a>NOTICIAS DEL DÍA</a>&ndash;&gt;-->
<!--</div>-->
<!--<p><strong>This line rendered as bold text.</strong></p>-->

<!--<h2>Example heading <span class="badge badge-secondary">Segundo Encabezado</span></h2>-->
<!--<p><strong>This line rendered as bold text.</strong></p>-->

<p><span th:text=" 'Hola de vuelta '+ ${session.usuariosession.username}"></p>

<!--<p>Hola <span th:text="${session.usuariosession.nombre}"></p>-->
<img th:src="@{/imagen/perfil/__${session.usuariosession.username}__}" alt="Fotito">


<table class="table table-striped table-dark">
    <thead>
    <tr>
        <th scope="col">Titulo</th>
        <th scope="col">Detalle</th>
        <th sec:authorize="hasRole('ADMIN')" scope="col">Acción</th>
    </tr>
    </thead>
    <tbody th:each="noticia : ${noticias}">
    <tr>
        <th scope="row" th:text="${noticia.titulo}"></th>
        <td><a th:href="@{/noticia/ver/__${noticia.id}__}"><button type="button" class="btn btn-secondary">Ingresar a la noticia</button></a></td>
        <td><a sec:authorize="hasRole('ADMIN')" th:href="@{/noticia/baja/__${noticia.id}__}"><button type="button" class="btn btn-danger">Dar de Baja</button></a></td>
    </tr>
    </tbody>
</table>

   <a  sec:authorize="hasAnyRole('ADMIN','PERIODISTA')" th:href="@{/noticia/registrar}"><button type="button" class="btn btn-primary">DAR DE ALTA UNA NOTICIA</button></a>
<br>


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
</body>
</html>